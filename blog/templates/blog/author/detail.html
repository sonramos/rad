{% extends "blog/base.html" %}

{% block title %}Autor: {{ author.name }}{% endblock %}

{% block content %}

<h1 class="mb-4">Detalhes do Autor</h1>

<div class="card shadow-sm">
    <div class="card-body">

        <h3 class="card-title">{{ author.name }}</h3>

        {% if author.birth_date %}
        <p class="text-muted">
            <strong>Data de nascimento:</strong> {{ author.birth_date|date:"d/m/Y" }}
        </p>
        {% endif %}

        {% if author.bio %}
        <p>
            <strong>Biografia:</strong><br>
            {{ author.bio }}
        </p>
        {% endif %}

        <p class="mt-3">
            <strong>Livros publicados:</strong><br>

            {% for book in author.book_set.all %}
                <a href="{% url 'book_detail' book.id %}">{{ book.title }}</a>
                {% if not forloop.last %}, {% endif %}
            {% empty %}
                <span class="text-muted">Nenhum livro cadastrado para este autor.</span>
            {% endfor %}
        </p>

        <div class="mt-4 d-flex gap-2">
            <a href="{% url 'author_update' author.id %}" class="btn btn-warning btn-sm">Editar</a>
            <a href="{% url 'author_delete' author.id %}" class="btn btn-danger btn-sm">Excluir</a>
            <a href="{% url 'author_list' %}" class="btn btn-secondary btn-sm">Voltar</a>
        </div>

    </div>
</div>

{% endblock %}
