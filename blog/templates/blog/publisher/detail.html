{% extends "blog/base.html" %}

{% block title %}Editora: {{ publisher.name }}{% endblock %}

{% block content %}

<h1 class="mb-4">Detalhes da Editora</h1>

<div class="card shadow-sm">
    <div class="card-body">

        <h3 class="card-title">{{ publisher.name }}</h3>

        {% if publisher.website %}
        <p class="text-muted">
            <strong>Website:</strong>
            <a href="{{ publisher.website }}" target="_blank">{{ publisher.website }}</a>
        </p>
        {% endif %}

        {% if publisher.country %}
        <p class="text-muted">
            <strong>Pa√≠s:</strong> {{ publisher.country }}
        </p>
        {% endif %}

        <p class="mt-3">
            <strong>Livros publicados:</strong><br>

            {% for book in publisher.book_set.all %}
                <a href="{% url 'book_detail' book.id %}">{{ book.title }}</a>
                {% if not forloop.last %}, {% endif %}
            {% empty %}
                <span class="text-muted">Nenhum livro cadastrado para esta editora.</span>
            {% endfor %}
        </p>

        <div class="mt-4 d-flex gap-2">
            <a href="{% url 'publisher_update' publisher.id %}" class="btn btn-warning btn-sm">Editar</a>
            <a href="{% url 'publisher_delete' publisher.id %}" class="btn btn-danger btn-sm">Excluir</a>
            <a href="{% url 'publisher_list' %}" class="btn btn-secondary btn-sm">Voltar</a>
        </div>

    </div>
</div>

{% endblock %}
